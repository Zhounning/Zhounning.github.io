---
title:  java中Comparable讲解
date: 2020-03-29 15:19:26
tags:
- java
categories:
- java
toc: true
---

<!-- # java中Comparable讲解 -->

## 介绍

> Comparable是排序接口；若一个类实现了Comparable接口，就意味着“该类支持排序”。可以使用Arrays.sort()对改类进行排序

<!--more-->

## 讲解

### 1.Comparable接口

使用场景：假如说我们有这样一个需求，需要设计一个Person类，有两个属性：姓名（name）、年龄（age），按照年龄的大小进行排序，那么实现可以这样

代码：

```java
class Person implements Comparable<Person>{
    int age;
    String name;

    public Person(String name,int age){
        this.name = name;
        this.age = age;
    }

    @Override
    public String toString() {
        // TODO Auto-generated method stub
        return "姓名:"+name+","+"年龄:"+age+";";
    }

    @Override
    public int compareTo(Person o) {
        // TODO Auto-generated method stub
        if(this.age>o.age){
            return 1;
        }else if(this.age<o.age){
            return -1;
        }
        //当然也可以这样实现
        // return Integer.compare(this.age, o.age);
        return 0;
    }
}
```

测试：

```java
public static void main(String[] args) {

    Person []persons = new Person[]{
        new Person("张三",15),
        new Person("李四",25),
        new Person("王五",20)
    };
    Arrays.sort(persons);
    System.out.println(Arrays.toString(persons));
    System.out.println(persons[0]==persons[1]);
    System.out.println(persons[0].equals(persons[1]));

}
```

结果：

```
[姓名:王五,年龄:10;, 姓名:张三,年龄:15;, 姓名:李四,年龄:15;, 姓名:赵刘,年龄:45;]
false
false
```

注意细节：

* `Comparable<T>`接口里面有一个泛型T，T的选择为可以与之比较的对象的类型，一般就是实现该接口类的本身，可以这样想和Person类比较的当然是Person本身了。
* `Comparable<T>`只是在Arrays里面起作用，其他地方目前我并没有发现什么作用，包括运算符和equals上，这个接口也不起什么作用。

### 2.Comparator接口

Comparator也是一个比较器，但是属于挽救设计的一种，一般来说尽量减少。

使用场景：假如说我们有这样一个需求，需要对Person类的年龄进行排序，Person类有两个属性：姓名（name）、年龄（age），但是Person类是别人写好的，里面没有Comparable接口，如果在不允许改变源代码的情况下，我们可以使用Comparator接口。

代码：

```java
//别人定义好的，不允许修改源代码
class Person {
    int age;
    String name;

    public Person(String name,int age){
        this.name = name;
        this.age = age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    public void setName(String name) {
        this.name = name;
    }
 
    public int getAge() {
        return age;
    }
   
    public String getName() {
        return name;
    }

    @Override
    public String toString() {
        // TODO Auto-generated method stub
        return "姓名:"+name+","+"年龄:"+age+";";
    }

    
}
```

```java
 class PersonComparator implements Comparator<Person> {

    @Override
    public int compare(Person o1, Person o2) {
        // TODO Auto-generated method stub
        return Integer.compare(o1.age, o2.age);
    }

}
```

测试：

```java

public static void main(String[] args) {

    Person []persons = new Person[]{
        new Person("张三",15),
        new Person("李四",15),
        new Person("王五",10),
        new Person("赵刘",45)
    };
    Arrays.sort(persons,new PersonComparator());
    System.out.println(Arrays.toString(persons));

}
```

结果：

`[姓名:王五,年龄:10;, 姓名:张三,年龄:15;, 姓名:李四,年龄:15;, 姓名:赵刘,年龄:45;]`

注意细节：

* `Comparator<T>`，其中泛型T为比较器可以比较的对象的类型，在这里面为Person



## 总结

Comparable和Comparator的区别：

* `java.lang.Comparable`：在类定义的时候，可以实现好的接口，里面有`compareTo`这个方法需要实现。
* `java.util.Comparator`:是挽救的比较接口，需要单独定义一个比较类，里面有`compare`比较方法。

在更多情况下我们使用比较多的还是Comparable接口，在实际开发过程中的话，其实两者使用都比较少。