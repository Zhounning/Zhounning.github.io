1. 数据库切分讲解一下

   * 垂直分表。将一张表按照列切分成多个表。

     * 垂直拆分的优点：使得数据列表笑，减少读取的Block数，减少I/O次数，而且简化了表结构，易于维护
     * 垂直拆分的缺点：会出现主键荣誉，需要管理冗余列，并会引起Join操作。

   * 水平切分。水平切分时把一个表的记录拆分到多个结构相同的表中，简单理解就是将数据分布到集群的不同节点上，从而缓解单个数据库的压力。

     水平切分的规则：

     * 范围，如从0到10000一个表，10001到20000一个表；
     * 哈希取模，一个商场系统，一般都是将用户，订单作为主表，然后将和它们相关的作为附表，这样不会造成跨库事务之类的问题。 取用户id，然后hash取模，分配到不同的数据库上。
     * 时间范围水平切割
     * 映射表：使用单独的一个数据库来存储映射关系。

     优点：水平才分可以支持非常大的数据量。

     缺点：事务支持，以及id唯一性都会带来问题

   * 分表分库后的问题

     * 事务支持，分表之后就成了分布式事务，如果以来数据库本身的分布式事务管理，将会付出很高的性能代价；如果由应用程序进行协助控制，形成逻辑上的事务，会造成编程方面的负担
     * 连接问题，跨表跨库的连接问题，解决方法为将连接分解为多个单表查询，然后在用户程序中进行连接。
     * id问题。解决方法分布式id生成器、使用全局唯一id