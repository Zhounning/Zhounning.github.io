

# vim常用命令

## 移动

| h 或 向左箭头键(←) | 光标向左移动一个字符                                         |
| ------------------ | ------------------------------------------------------------ |
| j 或 向下箭头键(↓) | 光标向下移动一个字符                                         |
| k 或 向上箭头键(↑) | 光标向上移动一个字符                                         |
| l 或 向右箭头键(→) | 光标向右移动一个字符                                         |
| [Ctrl] + [f]       | 屏幕『向下』移动一页，相当于 [Page Down]按键 (常用)          |
| [Ctrl] + [b]       | 屏幕『向上』移动一页，相当于 [Page Up] 按键 (常用)           |
| 0 或功能键[Home]   | 这是数字『 0 』：移动到这一行的最前面字符处 (常用)           |
| $ 或功能键[End]    | 移动到这一行的最后面字符处(常用)                             |
| ^                  | 移动到字符首部(注意并不是最前面，区别于0)                    |
| G                  | 移动到这个档案的最后一行(常用)                               |
| nG                 | n 为数字。移动到这个档案的第 n 行。例如 20G 则会移动到这个档案的第 20 行(可配合 :set nu) |
| gg                 | 移动到这个档案的第一行，相当于 1G 啊！ (常用)                |
| w                  | 移动下个单词的词首                                           |
| b                  | 移动到上个单词词首                                           |
| e                  | 移动到单词词尾                                               |
| (                  | 跳转上一句                                                   |
| )                  | 跳转下一句                                                   |
| {                  | 跳到上一段                                                   |
| }                  | 跳到下一段                                                   |

如果你将右手放在键盘上的话，你会发现 hjkl 是排列在一起的，因此可以使用这四个按钮来移动光标。 如果想要进行多次移动的话，例如向下移动 30 行，可以使用 "30j" 或 "30↓" 的组合按键， 亦即加上想要进行的次数(数字)后，按下动作即可！

## 搜索和取代

| /word                                                        | 向光标之下寻找一个名称为 word 的字符串。例如要在档案内搜寻 vbird 这个字符串，就输入 /vbird 即可！ (常用) |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| ?word                                                        | 向光标之上寻找一个字符串名称为 word 的字符串。               |
| n                                                            | 这个 n 是英文按键。代表『重复前一个搜寻的动作』。举例来说， 如果刚刚我们执行 /vbird 去向下搜寻 vbird 这个字符串，则按下 n 后，会向下继续搜寻下一个名称为 vbird 的字符串。如果是执行 ?vbird 的话，那么按下 n 则会向上继续搜寻名称为 vbird 的字符串！ |
| N                                                            | 这个 N 是英文按键。与 n 刚好相反，为『反向』进行前一个搜寻动作。 例如 /vbird 后，按下 N 则表示『向上』搜寻 vbird 。 |
| 使用 /word 配合 n 及 N 是非常有帮助的！可以让你重复的找到一些你搜寻的关键词！ |                                                              |
| :n1,n2s/word1/word2/g                                        | n1 与 n2 为数字。在第 n1 与 n2 行之间寻找 word1 这个字符串，并将该字符串取代为 word2 ！举例来说，在 100 到 200 行之间搜寻 vbird 并取代为 VBIRD 则： 『:100,200s/vbird/VBIRD/g』。(常用) |
| :1,$s/word1/word2/g                                          | 从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！(常用) |
| :1,$s/word1/word2/gc                                         | 从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！且在取代前显示提示字符给用户确认 (confirm) 是否需要取代！(常用) |

## 删除、复制、粘贴

| x, X     | 在一行字当中，x 为向后删除一个字符 (相当于 [del] 按键)， X 为向前删除一个字符(相当于 [backspace] 亦即是退格键) (常用) |
| -------- | ------------------------------------------------------------ |
| nx       | n 为数字，连续向后删除 n 个字符。举例来说，我要连续删除 10 个字符， 『10x』。 |
| dd       | 删除游标所在的那一整列(常用)                                 |
| ndd      | n 为数字。删除光标所在的向下 n 列，例如 20dd 则是删除 20 列 (常用) |
| yy       | 复制游标所在的那一行(常用)                                   |
| nyy      | n 为数字。复制光标所在的向下 n 列，例如 20yy 则是复制 20 列(常用) |
| p, P     | p 为将已复制的数据在光标下一行贴上，P 则为贴在游标上一行！ 举例来说，我目前光标在第 20 行，且已经复制了 10 行数据。则按下 p 后， 那 10 行数据会贴在原本的 20 行之后，亦即由 21 行开始贴。但如果是按下 P 呢？ 那么原本的第 20 行会被推到变成 30 行。 (常用) |
| u        | 复原前一个动作。(常用)                                       |
| [Ctrl]+r | 重做上一个动作。(常用)                                       |
| .        | 不要怀疑！这就是小数点！意思是重复前一个动作的意思。 如果你想要重复删除、重复贴上等等动作，按下小数点『.』就好了！ (常用) |

vim区分比较明显，主要是字符、行、块，d或者c表示删除某个字符时，dd、cc表示删除某行，其他可以同理

## 插入模式

\<C-w>:删除至上个单词的开头

\<C-u>:删除至行首

## 可视模式

v 激活面向字符的可视模式 

V 激活面向行的可视模式 

<C - v >激活面向列块的可视模式 

gv 重选上次的高亮选区

o:切换高亮选区的活动端

U:在可视模式下，将小写转化为大写

## 命令模式

用 Ex 命令读写文件（:edit 和 :write）

分割窗口:split

在输入框中：\<C-w>:删除至上个单词的开头，\<C-u>:删除至行首



## 小技巧

. : 重复上次修改(在插入模式移动会重置修改)

\>G：命令会增加从当前行到文档末尾处的缩进层级

### 插入：

a:在光标后面进入插入模式

A:在当前行的结尾添加内容，相当于`$a`

i:在光标前面进行插入模式

I(大写)：在首部插入

o:相当于`A<CR>`,其中\<CR>是回车键的意思,表示在下起一行

O(大写)：相当于`ko `，在上起一行

r:替换单个字符

R：替换单词

### 删除：

普通模式：

c:删除字符，并写入，需要结合移动键，比如:cl,cw等，感觉单独一个键用处不大

C（大写）:相当于`c$`，删除当前位置到行尾，并且进入插入模式

d:删除（不会写入），需要结合移动键，比如:cl,cw等，感觉单独一个键用处不大

D:相当于`d$`，删除当前位置到行尾

s:删除当前字符，相当于`cl`

S:`^c`，删除一行

daw：删除一个单词

插入模式：

\<C-h>：删除前一个字符（同退格键）

\<C-w>:删除前一个单词

\<C-u>:删至行首



### 查找

f{char}:查找这一行字符出现的位置，如fx，会找到第一个x,并且光标在x上

t{char}:查找这一行字符出现的位置，如tx，会找到第一个x,但是光标在x左边

;:一行内重复上次查找

,:回退一行内上次查找

\* ：命令，此命令可以查找当前光标下的单词

### 移动

w:移动下个单词的词首

b：上个单词词首



### 其他

 \<C-a>和  \<C-x>:命令分别对数字执行加和减操作,并且可以使用数字，例如，如果我 们把光标移到字符 5 上，执行 10\<C-a>就会把它变成 15。

~:大小写反转

g~:大小写反转

gu:变成小写

gU:变成大写



